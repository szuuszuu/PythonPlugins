/JOB
//NAME CLEAN-R1_KM_3P
///FOLDERNAME CLEAN
//POS
///NPOS 35,35,0,4,0,0
///TOOL 0
///POSTYPE PULSE
///PULSE
C00000=3643,-76224,-106676,19950,71810,76872
C00001=2508,0,0,0,0,4169
C00002=41115,93452,-30342,-19926,115521,85678
C00003=28599,109925,-13759,-12658,112881,84157
C00004=28878,100235,-19265,-13345,108164,84179
C00005=28966,99224,-20084,-13542,107459,84155
C00006=29027,99166,-20392,-13590,107618,84144
C00007=28599,108424,-14443,-12622,112541,84195
C00008=22748,85119,8148,-22283,39925,86825
C00009=22993,91115,18235,-24099,37095,87802
C00010=22826,92535,20573,-24288,36407,87951
C00011=28185,54102,-29202,-25019,47545,86760
C00012=22860,92236,20062,-24238,36559,87914
C00013=22805,93412,20766,-24079,36703,87839
C00014=28185,54102,-29202,-25019,47545,86760
C00015=22860,92236,20062,-24238,36559,87914
C00016=22308,91710,19375,-23497,36569,87637
C00017=28185,54102,-29202,-25019,47545,86760
C00018=22860,92095,20038,-24272,36507,87932
C00019=23416,85699,8902,-23106,39914,87118
C00020=23674,85929,9201,-23424,39910,87231
C00021=28599,108424,-14443,-12622,112541,84195
C00022=34011,109773,-12073,-16636,107751,84808
C00023=32816,112629,-5671,-14598,109695,85231
C00024=32618,110353,-5730,-14378,108579,85337
C00025=32545,109523,-5728,-14298,108158,85375
C00026=32618,110353,-5730,-14378,108579,85337
C00027=32816,112629,-5671,-14598,109695,85231
C00028=34011,109773,-12073,-16636,107751,84808
C00029=38810,111241,-7992,-19438,105697,85727
C00030=36913,114349,813,-16982,106196,86149
C00031=37169,116704,797,-17245,107389,86018
C00032=39968,92120,-23778,-21749,94252,85800
C00033=46315,71110,-54300,-23622,119041,85704
C00034=32571,-80067,-84751,-11816,58952,90735
BC00000=199464,674570,1075173
BC00001=0,0,0
BC00002=204899,578,1075157
BC00003=204899,578,1075157
BC00004=204899,578,1075157
BC00005=204899,578,1075157
BC00006=204899,578,1075157
BC00007=204899,578,1075157
BC00008=125260,578,1075157
BC00009=125260,578,1075157
BC00010=125260,578,1075157
BC00011=125260,578,1075155
BC00012=125260,578,1075157
BC00013=125260,578,1075157
BC00014=125260,578,1075155
BC00015=125260,578,1075157
BC00016=125260,578,1075157
BC00017=125260,578,1075155
BC00018=125260,578,1075157
BC00019=125260,578,1075157
BC00020=125260,578,1075157
BC00021=204899,578,1075157
BC00022=204899,578,1075157
BC00023=204899,578,1075157
BC00024=204899,578,1075157
BC00025=204899,578,1075157
BC00026=204899,578,1075157
BC00027=204899,578,1075157
BC00028=204899,578,1075157
BC00029=204899,578,1075157
BC00030=204894,578,1075156
BC00031=204894,578,1075156
BC00032=204894,578,1075156
BC00033=204899,578,1075157
BC00034=204899,578,820586
///POSTYPE BASE
///RECTAN
///RCONF 0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
P00118=3134.275,3877.089,1923.662,15.4997,-68.1150,-17.2943
P00119=3138.574,3864.334,1933.184,15.4869,-68.1157,-17.2821
P00120=3137.100,3864.274,1922.357,15.4852,-68.1130,-17.2784
P00121=-0.007,-0.132,-0.028,-0.0505,-0.0027,0.0373
//INST
///DATE 2024/12/19 19:39
///ATTR SC,RW
///GROUP1 RB1,BS1
///LVARS 0,5,5,1,0,3,3,0
NOP
INC B060
SET I010 B060
MUL I010 100
DIV I010 56
SFTOF
SFTOF3D
MOVJ C00000 BC00000 VJ=100.00
SET B050 0
JUMP *START
*BEGIN
SET B050 2
*START
'********************************
'Please check position before
'running in play-mode
'********************************
'#Output - Cleaning Motor
SET LI000 14
'#Output - Cleaning Oil
SET LI001 15
'#Output - Wirecut
SET LI002 16
'#Output - Wirefeeder Forward
SET LI003 4095
'#Output - Torch Blow out
SET LI004 4091
'********************************
REFP 1 C00001 BC00001
GETS LPX001 $PX011
CNVRT LPX001 LPX001 RF
GETS LPX002 $PX001
CNVRT LPX002 LPX002 RF
SUB LBP002 LBP001
'Comment out axis to shift
SETE LBP002 (1) 0
COMM SETE LBP002 (2) 0
SETE LBP002 (3) 0
SFTON LBP002
'********************************
'SAFE POS
PAUSE IF IN#(1563)=OFF
MOVJ C00002 BC00002 VJ=100.00
'WIRECUT
MOVJ C00003 BC00003 VJ=100.00
DOUT OT#(LI003) OFF
DOUT OT#(LI002) OFF
'WIREFEED OUTPUT
MOVL C00004 BC00004 V=133.3
COMM PULSE OT#(LI003) T=0.80
DOUT OT#(LI003) ON
TIMER T=0.90
DOUT OT#(LI003) OFF
TIMER T=0.50
MOVL C00005 BC00005 V=20.0
TIMER T=1.00
DOUT OT#(LI002) ON
TIMER T=1.00
DOUT OT#(LI002) OFF
MOVL C00006 BC00006 V=20.0
MOVL C00007 BC00007 V=166.7
'CHECK
'CHECK
MOVL C00008 BC00008 V=250.0 PL=0
MOVL C00009 BC00009 V=83.3 PL=0
MOVL C00010 BC00010 V=8.3 SRCH RIN#(1)=ON DIS=5.0
GETS PX121 $PX001
SUB P121 P120
GETE LD000 P121 (1)
GETE LD002 P121 (3)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
IFTHENEXP LR000> 1.000000E+00
	 MOVL C00011 BC00011 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00012 BC00012 V=41.7
MOVL C00013 BC00013 V=8.3 SRCH RIN#(1)=ON DIS=20.0
GETS PX121 $PX001
SUB P121 P119
GETE LD000 P121 (1)
GETE LD002 P121 (3)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
IFTHENEXP LR000> 1.500000E+00
	 MOVL C00014 BC00014 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00015 BC00015 V=41.7
MOVL C00016 BC00016 V=8.3 SRCH RIN#(1)=ON DIS=20.0
GETS PX121 $PX001
SUB P121 P118
GETE LD000 P121 (1)
GETE LD002 P121 (2)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
IFTHENEXP LR000> 1.500000E+00
	 MOVL C00017 BC00017 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00018 BC00018 V=41.7
MOVL C00019 BC00019 V=100.0
DOUT OT#(LI002) OFF
'CLEANING MOTOR
MOVL C00020 BC00020 V=166.7
MOVL C00021 BC00021 V=166.7 PL=1
MOVJ C00022 BC00022 VJ=100.00
MOVL C00023 BC00023 V=166.7
'CLEANING AIR
DOUT OT#(LI004) ON
MOVL C00024 BC00024 V=20.0
TIMER T=0.20
DOUT OT#(LI000) ON
TIMER T=0.50
MOVL C00025 BC00025 V=20.0
TIMER T=0.50
MOVL C00026 BC00026 V=20.0
TIMER T=0.20
DOUT OT#(LI000) OFF
TIMER T=0.50
DOUT OT#(LI004) OFF
MOVL C00027 BC00027 V=83.3
MOVL C00028 BC00028 V=166.7
'CLEANING OIL
MOVJ C00029 BC00029 VJ=100.00
JUMP *111
MOVL C00030 BC00030 V=166.7
PULSE OT#(LI001) T=0.20
TIMER T=1.00
MOVL C00031 BC00031 V=250.0
'CLEANING AIR
PULSE OT#(LI004) T=1.00
TIMER T=1.00
MOVJ C00032 BC00032 VJ=50.00
'SAFE POS
*111
MOVJ C00033 BC00033 VJ=100.00
MOVJ C00034 BC00034 VJ=100.00
SFTOF
SFTOF3D
SFTOF
'********************************
'*         CLEANING JOB         *
'*      __ __ _____ _____       *
'*     |  |  |   | | __  |      *
'*     |_   _| | | |    -|      *
'*       |_| |_|___|__|__|      *
'*        YRC Multi Base        *
'*       rev 4. 2021-10-12      *
'********************************
END
