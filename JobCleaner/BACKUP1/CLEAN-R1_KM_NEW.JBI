/JOB
//NAME CLEAN-R1_KM_NEW
///FOLDERNAME INNE
//POS
///NPOS 31,31,0,4,0,0
///TOOL 0
///POSTYPE PULSE
///PULSE
C00000=1784,98420,107420,-2021,-15541,5033
C00001=29960,139157,41546,-12188,94395,86333
C00002=20449,156560,65681,-6868,84284,83788
C00003=20777,154090,64609,-8010,83174,84667
C00004=20958,155261,65926,-8413,83268,84598
C00005=21061,154337,63841,-8459,84078,84571
C00006=21509,149273,54586,-9528,83199,84396
C00007=22748,85119,8148,-22283,39925,86825
C00008=22344,90508,17441,-23241,37108,87484
C00009=22258,91263,18678,-23334,36744,87559
C00010=27413,53480,-29931,-24215,47505,86509
C00011=22295,90935,18139,-23292,36901,87525
C00012=22297,91835,18649,-23217,37039,87482
C00013=27413,53480,-29931,-24215,47505,86509
C00014=22295,90935,18139,-23292,36901,87525
C00015=21903,90703,17753,-22766,36924,87328
C00016=22762,87085,11798,-22871,38783,87163
C00017=27413,53480,-29931,-24215,47505,86509
C00018=22748,85119,8148,-22283,39925,86825
C00019=21509,149273,54586,-9528,83199,84396
C00020=25636,154273,63376,-12398,79682,85641
C00021=26152,171819,86594,-12930,83638,85592
C00022=26053,170696,86547,-12892,83089,85622
C00023=25206,173093,90639,-10836,82471,86006
C00024=26055,170654,86485,-12892,83106,85621
C00025=26172,171373,85936,-12937,83811,85580
C00026=25636,154273,63376,-12398,79682,85641
C00027=29036,167806,79645,-13195,81875,86784
C00028=28862,167359,82450,-13160,79945,86940
C00029=29036,167806,79645,-13195,81875,86784
C00030=29960,139157,41546,-12188,94395,86333
///LIMIT ON
BC00000=-79639,0,0
///LIMIT OFF
BC00001=125260,578,1075157
BC00002=125260,578,1075157
BC00003=125260,578,1075157
BC00004=125260,577,1075155
BC00005=125260,577,1075155
BC00006=125260,578,1075157
BC00007=125260,578,1075157
BC00008=125260,578,1075157
BC00009=125260,578,1075157
BC00010=125260,578,1075155
BC00011=125260,578,1075157
BC00012=125260,578,1075157
BC00013=125260,578,1075155
BC00014=125260,578,1075157
BC00015=125260,578,1075157
BC00016=125260,578,1075157
BC00017=125260,578,1075155
BC00018=125260,578,1075157
BC00019=125260,578,1075157
BC00020=125260,578,1075157
BC00021=131773,578,1075156
BC00022=131773,578,1075156
BC00023=131773,578,1075156
BC00024=131773,578,1075156
BC00025=131773,578,1075156
BC00026=125260,578,1075157
BC00027=131972,578,1075156
BC00028=131972,578,1075156
BC00029=131972,578,1075156
BC00030=125260,578,1075157
///POSTYPE BASE
///RECTAN
///RCONF 0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
P00118=3126.421,2856.631,1925.519,15.4705,-68.1128,-17.2730
P00119=3129.220,2845.887,1933.140,15.5005,-68.1135,-17.2926
P00120=3128.500,2846.998,1923.654,15.5286,-68.1149,-17.3107
P00121=-0.017,-3359.512,-0.048,0.0065,0.0016,-0.0062
//INST
///DATE 2024/11/19 21:01
///ATTR SC,RW
///GROUP1 RB1,BS1
///LVARS 0,5,3,1,0,3,3,0
NOP
SFTOF3D
SET B050 0
JUMP *START
*BEGIN
SET B050 2
*START
SFTOF
'********************************
'Please check position before
'running in play-mode
'********************************
'#Output - Cleaning Motor
SET LI000 14
'#Output - Cleaning Oil
SET LI001 15
'#Output - Wirecut
SET LI002 16
'#Output - Wirefeeder Forward
SET LI003 4095
'#Output - Torch Blow out
SET LI004 4091
'********************************
REFP 1 C00000 BC00000
GETS LPX001 $PX011
CNVRT LPX001 LPX001 RF
GETS LPX002 $PX001
CNVRT LPX002 LPX002 RF
SUB LBP002 LBP001
'Comment out axis to shift
SETE LBP002 (1) 0
COMM SETE LBP002 (2) 0
SETE LBP002 (3) 0
SFTON LBP002
'********************************
'SAFE POS
COMM PAUSE IF IN#(1563)=OFF
MOVJ C00001 BC00001 VJ=60.00
'WIRECUT
MOVJ C00002 BC00002 VJ=40.00
'WIREFEED OUTPUT
DOUT OT#(4095) ON
TIMER T=1.00
DOUT OT#(4095) OFF
MOVL C00003 BC00003 V=75.0 PL=0
WAIT IN#(4095)=OFF
MOVL C00004 BC00004 V=20.0 PL=0
TIMER T=1.30
TIMER T=0.20
DOUT OT#(LI002) ON
TIMER T=1.00
MOVL C00005 BC00005 V=33.3 PL=0
MOVL C00006 BC00006 V=250.0 PL=0
DOUT OT#(LI002) OFF
'CHECK
MOVL C00007 BC00007 V=250.0 PL=0
MOVL C00008 BC00008 V=83.3 PL=0
MOVL C00009 BC00009 V=8.3 SRCH RIN#(1)=ON DIS=5.0
GETS PX121 $PX001
SUB P121 P120
GETE LD000 P121 (1)
GETE LD002 P121 (3)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
IFTHENEXP LR000> 1.000000E+00
	 MOVL C00010 BC00010 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00011 BC00011 V=41.7
MOVL C00012 BC00012 V=8.3 SRCH RIN#(1)=ON DIS=20.0
GETS PX121 $PX001
SUB P121 P119
GETE LD000 P121 (1)
GETE LD002 P121 (3)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
IFTHENEXP LR000> 1.500000E+00
	 MOVL C00013 BC00013 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00014 BC00014 V=41.7
MOVL C00015 BC00015 V=8.3 SRCH RIN#(1)=ON DIS=20.0
GETS PX121 $PX001
SUB P121 P118
GETE LD000 P121 (1)
GETE LD002 P121 (3)
MUL LD000 LD000
MUL LD002 LD002
ADD LD000 LD002
SET LR000 LD000
DIV LR000  1.000000E+06
SQRT LR000 LR000
MOVL C00016 BC00016 V=250.0
IFTHENEXP LR000> 5.000000E+00
	 MOVL C00017 BC00017 V=41.7
	 JUMP *BEGIN IF B050<2
	 IFTHENEXP B050=2
		 SETUALM 8201 "PROBLEM DL DRUTU" 0
		 JUMP *BEGIN
	 ENDIF
ENDIF
MOVL C00018 BC00018 V=100.0
MOVL C00019 BC00019 V=250.0
DOUT OT#(LI002) OFF
'CLEANING MOTOR
MOVJ C00020 BC00020 VJ=25.00
MOVL C00021 BC00021 V=166.7 PL=0
'CLEANING AIR
DOUT OT#(LI004) ON
MOVL C00022 BC00022 V=20.0 PL=0
TIMER T=0.20
DOUT OT#(LI000) ON
TIMER T=0.50
MOVL C00023 BC00023 V=5.0 PL=0
TIMER T=0.50
MOVL C00024 BC00024 V=20.0 PL=0
TIMER T=0.50
DOUT OT#(LI000) OFF
TIMER T=0.50
DOUT OT#(LI004) OFF
MOVL C00025 BC00025 V=25.0 PL=0
MOVL C00026 BC00026 V=166.7 PL=0
'CLEANING OIL
MOVJ C00027 BC00027 VJ=50.00
MOVL C00028 BC00028 V=166.7 PL=0
PULSE OT#(LI001) T=0.20
TIMER T=1.00
MOVL C00029 BC00029 V=250.0 PL=0
'CLEANING AIR
PULSE OT#(LI004) T=1.00
TIMER T=1.00
'SAFE POS
MOVJ C00030 BC00030 VJ=50.00
SFTOF
'********************************
'*         CLEANING JOB         *
'*      __ __ _____ _____       *
'*     |  |  |   | | __  |      *
'*     |_   _| | | |    -|      *
'*       |_| |_|___|__|__|      *
'*        YRC Multi Base        *
'*       rev 4. 2021-10-12      *
'********************************
END
